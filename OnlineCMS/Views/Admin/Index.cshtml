@using OnlineCMS.Data
@inject ApplicationDbContext _db;

@{
    ViewData["Title"] = "Control Panel";
}
<div class="container row">
    <h1 class="container col-10">@ViewData["Title"]</h1>
    <a class="btn btn-primary col-2 text-capitalize" asp-controller="Admin" asp-action="CreateBlog">Create Blog</a>
</div>

<div class="container">
    <button class="btn-primary btn" type="button" data-toggle="collapse" 
            data-target="#pageItems" aria-expanded="true" aria-controls="pageItems">Pages</button>
    <ul id="pageItems">
        <li><a asp-controller="Admin" asp-action="EditPage" asp-route-title="Home">Home</a></li>
        <li><a asp-controller="Admin" asp-action="EditPage" asp-route-title="Projects">Projects</a></li>
        <li><a asp-controller="Admin" asp-action="EditPage" asp-route-title="AboutMe">About Me</a></li>
        <li><a asp-controller="Admin" asp-action="EditPage" asp-route-title="ContactMe">Contact Me</a></li>
        <li><a asp-controller="Admin" asp-action="EditPage" asp-route-title="PrivacyPolicy">Privacy</a></li>
    </ul>
</div>

<div class="container text-capitalize mt-2">
    <button class="btn-primary btn" type="button" data-toggle="collapse" 
            data-target="#BlogsItems" aria-expanded="true" aria-controls="BlogsItems">Blogs</button>
    <ul id="BlogsItems" style="text-decoration: none">
        @{
            List<Blog> blogs = _db.Blogs.ToList();
            foreach (var blog in blogs)
            {
                <li>
                <a asp-controller="Admin" asp-action="EditBlog" asp-route-blogId=@blog.Id>
                        @blog.Title
                    </a>
                </li>
            }
        }
    </ul>
</div>

